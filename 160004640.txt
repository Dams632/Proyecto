1.
alter table contratos add check(fecinicio<fecfinal);

2.
alter table participaciones add constraint fk_pruebass foreign key (nomb_pru,year) references pruebas(nomb_pru,year) on delete set default;

3.
select c.nomb_cic from ciclistas c inner join pruebas p on c.cod_cic=p.ganador where c.cod_cic in(select ganador from pruebas where nomb_pru='Tour de Francia' and year between 2017 and 2019) group by nomb_cic;

4.
select e.nomb_equ,count(t.cod_cic) from equipos e inner join contratos t on e.cod_equ=t.cod_equ where e.nomb_equ like 'T%' group by nomb_equ;

5.
select c.nomb_cic from ciclistas c, pruebas p, naciones n where n.nomb_nac='Reino Unido' and c.cod_cic<>all(select ganador from pruebas)  and year between 2016 and 2019 group by nomb_cic;

6.
update pruebas set etapas=20 where year=any(select year from pruebas where year=2018);
